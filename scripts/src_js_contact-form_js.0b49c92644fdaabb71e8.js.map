{"version":3,"file":"scripts/src_js_contact-form_js.0b49c92644fdaabb71e8.js","mappings":"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","sources":["webpack://from-figma-digital-agency/./src/js/check-validity.js","webpack://from-figma-digital-agency/./src/js/common.js","webpack://from-figma-digital-agency/./src/js/contact-form.js"],"sourcesContent":["'use strict';\n\nexport const isValid = (inputTypeStr, inputValue) => {\n  let regExpPrecept;\n\n  switch(inputTypeStr) {\n    case 'name':\n      regExpPrecept = /(^[a-zA-Zа-яА-Я]([a-zA-Zа-яА-Я\\s\\'\\ʼ\\-\\.]{0,63})[a-zA-Zа-яА-Я]$)/;\n      break;\n    case 'email':\n      regExpPrecept = /^[a-zA-Z0-9]([\\w\\.\\-]{0,62})[a-zA-Z0-9]@[a-z0-9]([\\w\\.\\-]{1,62})\\.([a-z]{2,8})$/;\n      break;\n  }\n\n  return regExpPrecept.test(inputValue);\n};\n\nexport const manageKeydown = (inputTypeStr) => {\n  let regExpLetters;\n\n  switch(inputTypeStr) {\n    case 'name':\n      regExpLetters = /[a-zA-Zа-яА-Я\\s\\'\\ʼ\\-\\.]/;\n      break;\n    case 'email':\n      regExpLetters = /[\\w\\-\\.\\@]/;\n      break;\n  }\n\n  if (!event.key.match(regExpLetters)\n  && event.code !== 'ArrowRight' && event.code !== 'ArrowLeft'\n  && event.code !== 'Backspace' && event.code !== 'Delete')\n    event.preventDefault();\n};\n","'use strict';\n\n// Common functions\n\nexport const isContainerOpened = elem => {\n  return !elem.classList.contains('display--none');\n};\n\nexport const setBodyOverflowY = isPermitted => {\n  document.body.style.overflowY =\n    (isPermitted) ? 'auto' : 'hidden';\n};\n\nexport const isMobileDevice = window.matchMedia('(pointer: coarse)').matches;\n","import {isContainerOpened, isMobileDevice} from './common.js';\nimport {isValid, manageKeydown} from './check-validity.js';\n\n'use strict';\n\n// Control of Form inputs and submit\n\nlet contactForm = document.forms.contactForm;\nlet contactName = contactForm.name;\nlet contactEmail = contactForm.email;\nlet contactMessage = contactForm.message;\nlet contactSubmitButton = contactForm.submit;\nlet contactMessageInfo = document.querySelector('#contactMessageInfo');\n\nexport const contactPrivacyAgreement = contactForm.privacyAgreement;\nexport const contactFields = [contactName, contactEmail, contactMessage];\n\n// Assign a counter for textarea 'Message'\n\nconst assignMessageLength = textField => {\n  contactMessageInfo.innerHTML = `Characters: ${textField.value.length} of ${textField.getAttribute('maxlength')}`;\n};\n\ncontactMessage.addEventListener('input', function() {\n  assignMessageLength(this);\n}, {passive: true});\nassignMessageLength(contactMessage);\n\n// Add hidden error blocks to every field\n\nconst addErrorInfoBlock = field => {\n  let pElem = document.createElement('p');\n  pElem.classList.add('partition__error-info', 'error-info', 'display--none');\n  if (field.getAttribute('type') === 'checkbox') pElem.classList.add('error-info--checkbox');\n  pElem.id = `${field.id}ErrorInfo`;\n  pElem.setAttribute('tabindex', '-1');\n\n  field.parentElement.append(pElem);\n};\n\n(function() {\n  contactFields.forEach(field => addErrorInfoBlock(field));\n  addErrorInfoBlock(contactPrivacyAgreement);\n})();\n\n// Functions: assign an error to a field and reset all error fields\n\nconst assignErrorMessage = (field, errorStatus) => {\n  let pElem = field.parentElement.lastElementChild;\n  let errorText = '';\n\n  switch (errorStatus) {\n    case 'empty':\n      errorText = 'Field can\\'t be empty';\n      break;\n    case 'not-valid--name':\n      errorText = `Name field isn\\'t valid.<br />E.g.: Mr. d'Artagnan Doe-Louis`;\n      break;\n    case 'not-valid--email':\n      errorText = `Email field isn\\'t valid.<br />E.g.: my.company-123@mail.com`;\n      break;\n    case 'name--not-enough':\n      errorText = `Field shouldn\\`t be less than 2 characters`;\n      break;\n    case 'text--not-enough':\n      errorText = 'Field shouldn\\`t be less than 50 characters';\n      break;\n    case 'text--too-much':\n      errorText = 'Field shouldn\\`t be more than 500 characters';\n      break;\n    case 'unchecked':\n      errorText = 'Field should be checked. Read the Agreement before confirmation';\n      break;\n  }\n\n  pElem.innerHTML = errorText;\n  pElem.classList.remove('display--none');\n\n  field.setAttribute('aria-labelledby', `${field.id}Label ${pElem.id}`);\n  field.classList.add('field--error');\n};\n\nexport const resetFieldErrors = field => {\n  if (field.classList.contains('field--error')) {\n    let errorInfoElem;\n\n    errorInfoElem = field.parentElement.lastElementChild;\n    errorInfoElem.classList.add('display--none');\n\n    field.classList.remove('field--error');\n    field.setAttribute('aria-labelledby', `${field.id}Label`);\n  }\n};\n\n// Function expressions to check fields of needed types\n\nconst checkEmptyInput = field => {\n  if (field.value.length === 0) assignErrorMessage(field, 'empty');\n};\n\nconst checkField = (field, type) => {\n  if (field.value.length === 1) {\n    assignErrorMessage(field, `name--not-enough`);\n  } else if (field.value.length > 1 && !isValid(type, field.value)) {\n    assignErrorMessage(field, `not-valid--${type}`);\n  }\n};\n\nconst checkText = field => {\n  if (field.value.length !== 0 && field.value.length < 50) {\n    assignErrorMessage(field, 'text--not-enough');\n  } else if (field.value.length > 1000) {\n    assignErrorMessage(field, 'text--too-much');\n  }\n};\n\nconst checkCheckbox = field => {\n  if (!field.checked) assignErrorMessage(field, 'unchecked');\n};\n\n// Assign functions to check fields\n\ncontactFields.forEach(field => {\n  field.addEventListener('input', function() {resetFieldErrors(field)}, {passive: true});\n});\ncontactPrivacyAgreement.addEventListener('change', function() {resetFieldErrors(this)}, {passive: true});\n\ncontactName.addEventListener('blur', function() {checkField(contactName, 'name')}, {passive: true});\ncontactEmail.addEventListener('blur', function() {checkField(contactEmail, 'email')}, {passive: true});\ncontactMessage.addEventListener('blur', function() {checkText(contactMessage)}, {passive: true});\n\n// Check all fields before submitting and assign a mailto action to the form\nconst checkAllContactFields = () => {\n  contactFields.forEach(field => checkEmptyInput(field));\n\n  checkCheckbox(contactPrivacyAgreement);\n  checkField(contactName, 'name');\n  checkField(contactEmail, 'email');\n  checkText(contactMessage);\n\n  for (let i = 0; i < contactFields.length; i++) {\n    if (contactFields[i].classList.contains('field--error')) {\n      if (!isMobileDevice) contactFields[i].focus();\n      event.preventDefault();\n      return;\n    }\n  }\n\n  if (!contactPrivacyAgreement.checked) {\n    if (!isMobileDevice) contactPrivacyAgreement.focus();\n    event.preventDefault();\n  }\n};\n\ncontactForm.addEventListener('submit', checkAllContactFields, {passive: false});\n\n// Manage keydown for name and email input fields\n\ncontactName.addEventListener('keydown', function() {\n  manageKeydown('name');\n}, {passive: false});\ncontactEmail.addEventListener('keydown', function() {\n  manageKeydown('email');\n}, {passive: false});\n\n// Add style to focused checkbox container\n\nlet checkboxInputs = document.querySelectorAll('.checkbox-input');\n\ncheckboxInputs.forEach(input => {\n  let checkboxContainer = input.parentElement;\n\n  input.addEventListener('focus', function() {\n    checkboxContainer.classList.add('checkbox-container--focused');\n  }, {passive: true});\n  input.addEventListener('blur', function() {\n    checkboxContainer.classList.remove('checkbox-container--focused');\n  }, {passive: true});\n});\n"],"names":["isValid","inputTypeStr","inputValue","regExpPrecept","test","manageKeydown","regExpLetters","event","key","match","code","preventDefault","isContainerOpened","elem","classList","contains","setBodyOverflowY","isPermitted","document","body","style","overflowY","isMobileDevice","window","matchMedia","matches","contactForm","forms","contactName","name","contactEmail","email","contactMessage","message","contactSubmitButton","submit","contactMessageInfo","querySelector","contactPrivacyAgreement","privacyAgreement","contactFields","assignMessageLength","textField","innerHTML","value","length","getAttribute","addEventListener","passive","addErrorInfoBlock","field","pElem","createElement","add","id","setAttribute","parentElement","append","forEach","assignErrorMessage","errorStatus","lastElementChild","errorText","remove","resetFieldErrors","errorInfoElem","checkEmptyInput","checkField","type","checkText","checkCheckbox","checked","checkAllContactFields","i","focus","checkboxInputs","querySelectorAll","input","checkboxContainer"],"sourceRoot":""}